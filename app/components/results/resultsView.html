<header ng-top-bar title="Results"></header>
<section class='main-container'>
    <div class='results-container'>
        <div class='score'>{{results.corrects.length}}/{{results.totalQuestions}}</div>
        <div class='percentage'>{{results.percentage}}%</div>
        <div class='options'>
            <button ng-if='results.incorrects.length!=0' type='button' ng-click='retryFailedKanjis()'>Retry failed kanji</button>
            <button type='button' ng-click="retry()">Try again</button>
            <button type='button' ng-click="goTo('picker')">New exercice</button>
            <button type='button' ng-click="goTo('/')">Menu</button>
        </div>
        
        <ng-loading ng-if='loading'></ng-loading>
        
        <table class='kanji-progression'>
            <tr class='first'><th class='left'>Kanji</th><th class='right'>Progression</th></tr>
            <tr ng-repeat="kanji in kanjis">
                <td class='kanji'>{{kanji.name}}</td>
                <td class='prog-value'>
                    <div class="bar"><div ng-if="kanji.value >= 1" class="filled"></div></div>
                    <div class="bar"><div ng-if="kanji.value >= 2" class="filled"></div></div>
                    <div class="bar"><div ng-if="kanji.value >= 3" class="filled"></div></div>
                    <br />
                    <span ng-if="kanji.value<3">{{kanji.value}}</span>
                    <span ng-if="kanji.value>=3">Known</span>
                </td>
            </tr>
            <tr class='last'><td class='left'></td><td class='right'></td></tr>
        </table>
    </div>
</section>